<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head">

<meta charset="UTF-8">
</head>
<body>

	<div th:replace="fragments/header"></div>

	<div th:replace="fragments/form"></div>

	<script type="text/javascript">
		
		$(function() {
			$('#duedatepicker').datetimepicker({
				icons: {
					time: 'far fa-clock',
		            date: 'far fa-calendar',
		            up: 'fas fa-arrow-up',
		            down: 'fas fa-arrow-down',
		            previous: 'fas fa-chevron-left',
		            next: 'fas fa-chevron-right',
		            today: 'far fa-calendar-check-o',
		            clear: 'far fa-trash',
		            close: 'far fa-times'
				},
				format: "YYYY-MM-DDTHH:mm:ss.sssZ"
			});
		});
		////format: "YYYY-MM-DDTHH:mm:ss.sssZ"
		//// format: moment().toISOString()

/* 		(function() {
			'use strict'

			// Recupera tutte le form alle quali applicare la validazione custom
			var forms = document.querySelectorAll('.needs-validation');

			Array.prototype.slice.call(forms)
				.forEach(function(form) {
					form.addEventListener('submit', function(event) {
						
						if (!form.checkValidity()) {
							event.preventDefault();
							event.stopPropagation();
						}

						form.classList.add('was-validated');
						
					}, false);
				});
		})(); */

		function uuid() {
			
		    var seed = Date.now();
		    if (window.performance && typeof window.performance.now === "function") {
		        seed += performance.now();
		    }

		    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
		        var r = (seed + Math.random() * 16) % 16 | 0;
		        seed = Math.floor(seed/16);

		        return (c === 'x' ? r : r & (0x3|0x8)).toString(16);
		    });

		    return uuid;
		}

		$(document).ready(function() {
			$('#uuidBtn').click(
				function() {
					$('#messageId').val(uuid());
				}
			);
		});
		
	</script>

</body>
</html>